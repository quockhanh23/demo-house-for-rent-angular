<app-header></app-header>

<div class="container" style="margin-top: 10px; margin-bottom: 10px; background-color: whitesmoke">
  <span [routerLink]="['/']" style="font-size: 35px; cursor: pointer;"
        class="material-icons hoverYellowColor">arrow_back</span>
  <div class="row">
    <div style="margin-top: 5px" class="col-8">
      <img style="width: 100%; height: 450px; border-radius: 5px" src="{{houseDetail?.image}}">
      <div class="row">
        <div class="col-10">
          <button *ngIf="houseDetail?.idUser != idUser" [routerLink]="['/createTransactional',houseDetail?.id]"
                  style="margin-top: 10px"
                  type="button" class="btn btn-info">
            Đặt thuê nhà
          </button>
          <button *ngIf="houseDetail?.idUser == idUser" [routerLink]="['/createTransactional',houseDetail?.id]"
                  style="margin-top: 10px"
                  type="button" class="btn btn-info" disabled>
            Đặt thuê nhà
          </button>
        </div>
        <div class="col-2" align="right">
          <sub> <span style="font-size: 25px; margin-top: 5px; color: red" class="material-icons">flag</span></sub>
        </div>
      </div>
      <hr>
      <div class="row">
        <div class="col-6">
          <h4>{{houseDetail?.name}}</h4>
        </div>
        <div class="col-6" align="right">
          <span [routerLink]="['/updateHouse', houseDetail?.id]" *ngIf="houseDetail?.idUser == idUser"
                class="material-icons">edit</span>
        </div>
      </div>
      <p>{{houseDetail?.address}}</p>
      <hr>
      <div class="row">
        <div class="col-4">
          <p>{{houseDetail?.price}}</p>
        </div>
        <div class="col-4">
          <p>{{houseDetail?.acreage}}</p>
        </div>
        <div class="col-4">
          <p>{{houseDetail?.numberOfBedrooms}}</p>
        </div>
      </div>
      <h5>Thông tin mô tả</h5>
      <p>{{houseDetail?.description}}</p>
      <h5>Đặc điểm bất động sản</h5>
      <div class="row">
        <div class="col-1">
          <span style="font-size: 20px" class="material-icons">paid</span>
          <br>
          <span style="font-size: 20px" class="material-icons">fit_screen</span>
          <br>
          <span class="material-icons">bedroom_parent</span>
          <br>
          <span class="material-icons">bathtub</span>
        </div>
        <div class="col-1">
          <span>{{houseDetail?.price}}</span>
          <br>
          <span>{{houseDetail?.acreage}}</span>
          <br>
          <span>{{houseDetail?.numberOfBedrooms}}</span>
          <br>
          <span>{{houseDetail?.numberOfBathrooms}}</span>
        </div>
        <div class="col-3">

        </div>
        <div class="col-3">

        </div>
      </div>
      <h5>Bất động sản dành cho bạn</h5>
      <div class="row">
        <div *ngFor="let house of houses as i">
          <div *ngIf="house?.id == houseDetail?.id" hidden>
            <img style="width: 50px; height: 50px" src="{{house?.image}}">
          </div>
          <div *ngIf="house?.id != houseDetail?.id">
            <img style="width: 50px; height: 50px" src="{{house?.image}}">
          </div>
        </div>
      </div>
      <h5>Bình luận: </h5>
      <div class="row">
        <div class="col-9">
          <textarea id="content" style="width: 100%"></textarea>
        </div>
        <div class="col-3">
          <button (click)="createComment()" type="button" class="btn btn-primary">Gửi bình luận</button>
        </div>
      </div>
      <h5>Tất cả bình luân: </h5>
      <div>
        <div class="row" *ngFor="let comment of comments"
             style="margin-bottom: 5px; background-color: white; border-radius: 5px;
             border: #3f6ba4 1px solid; margin-left: 1px; margin-right: 1px">
          <div class="col-4">
            <p>{{comment?.username}}</p>
            <p>{{comment?.createdAt | date: 'dd/MM/yyyy'}}</p>
          </div>
          <div class="col-8">
            <p>{{comment?.content}}</p>
          </div>
        </div>
      </div>
    </div>
    <div style="margin-top: 5px; background-color: whitesmoke" class="col-4">
      <div class="row" style="background-color: white; margin-right: 5px;">
        <div class="col-6" style="margin-top: 10px">
          <img style="width: 50px; height: 50px; border-radius: 50%; border: #3f6ba4 1px solid"
               src="../../../assets/images/logo.png">
        </div>
        <div class="col-5" style="margin-top: 10px">
          <p class="hoverYellowColor, cursorTag" [routerLink]="['/detailUser', user?.id]">{{user?.fullName}}</p>
        </div>
      </div>
      <div class="row" style="background-color: white; margin-right: 5px">
        <div class="col-2"></div>
        <div class="col-8" align="center">
          <button class="btn btn-light" style="width: 100%; margin-top: 20px">Chat qua Zalo</button>
        </div>
        <div class="col-2"></div>
      </div>
      <div class="row" style="background-color: white; margin-right: 5px">
        <div class="col-2"></div>
        <div class="col-8" align="center">
          <button class="btn btn-info" style="width: 100%; margin-top: 10px; margin-bottom: 10px">
            <sub><span style="font-size: 18px" class="material-icons">local_phone</span></sub> {{user?.phone}}
          </button>
        </div>
        <div class="col-2"></div>
      </div>
      <div class="row" style="background-color: white; margin-right: 5px; margin-top: 10px">
        <div class="col-12">
          <h5>Cho thuê nhà riêng tại {{houseDetail?.district}} </h5>
          <div class="row" *ngFor="let address of housesSameAddress as i">
            <div style="margin-left: 5px">
              <span>{{address?.ward}}</span>
              <span>&nbsp;({{address?.numberCount}})</span>
            </div>
          </div>
        </div>
      </div>
      <div class="row" style="background-color: white; margin-right: 5px; margin-top: 10px">
        <div class="col-12">
          <div class="row" *ngFor="let t of transactional as i" style="margin-top: 5px">
            <div style="margin-left: 5px">
              <span>{{t?.fullNameUserGuest}}</span>
              <div class="row">
                <div class="col-10">
                  <span>{{t?.startTime | date: 'dd/MM/yyyy'}}</span>
                  <span> - </span>
                  <span>{{t?.endTime | date: 'dd/MM/yyyy'}}</span>
                </div>
                <div class="col-1" align="right">
                  <sub><span [routerLink]="['/detailTransactional',t?.id]"
                             class="material-icons cursorTag hoverYellowColor">info</span></sub>
                </div>
              </div>
              <div class="row">
                <div class="col-12">
                  <span>{{t?.status}}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
